<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>CSS Test: Inline replaced elements with intrinsic ratios and the auto value</title>
        <link rel="author" title="Microsoft" href="http://www.microsoft.com/" />
        <link rel="help" href="http://www.w3.org/TR/CSS21/visudet.html#inline-replaced-width" />
        <meta name="flags" content="HTMLonly invalid" />
        <meta name="assert" content="If ’height’ and ’width’ both have computed values of ’auto’ and the element has an intrinsic ratio but no intrinsic height or width and the containing block’s width doesn’t itself depend on the replaced element’s width, then the used value of ’width’ is calculated from the constraint equation used for block-level, non-replaced elements in normal flow." />
        <style type="text/css">
            #d1
            {
                width: 400px;
                height: 300px;
                background: white;
            }
            #d2
            {
                width: 300px;
                height: 20px;
                background-color: blue;
                border: solid 2px blue;
            }
            iframe
            {
                margin: 0 auto;
                border: solid 2px black;
            }
        </style>
    </head>
    <body>
        <div id="d2"></div>
        <div id="d1">
            <iframe></iframe>
        </div>
        <p>Test passes if the blue box has the same width as the black bordered box.</p>
    </body>
</html>