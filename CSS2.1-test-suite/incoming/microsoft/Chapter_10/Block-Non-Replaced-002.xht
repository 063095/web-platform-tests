<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>CSS Test: Solving for width of block-level non-replaced elements in normal flow when width is auto</title>
        <link rel="author" title="Microsoft" href="http://www.microsoft.com/" />
        <link rel="help" href="http://www.w3.org/TR/CSS21/visudet.html#the-width-property" />
        <meta name="flags" content="" />
        <meta name="assert" content="When width is auto and the combination of border widths, padding widths, scrollbar widths, width, and non 'auto' margin widths are larger than the width of the containing block, the margin widths are treated as 0." />
        <style type="text/css">
            #d1
            {
                display: block;
                width: 100px; /* Forcing the container to be less than the width of its contents. */
                margin-top: 20px;
                margin-left: 20px;
            }
            #d2
            {
                display: block;
                height: 20px;
                width: 80px;
                margin-left: auto;
                padding-left: 10px;
                padding-right: 10px;
                background-color: green;
                border-left: solid green 10px;
                border-right: solid green 10px;
            }
            #d3
            {
                width: 120px;
                position: absolute;
                left: 28px;
                top: 40px;
                text-align: center;
                background-color: blue;
                color: blue;
            }
            p
            {
                position: absolute;
                top: 80px;
                left: 10px;
            }
        </style>
    </head>
    <body>
        <div id="d1">
            <div id="d2"></div>
        </div>
        <div id="d3">Filler Text</div>
        <p>Test passes if the green box and the blue box have identical widths.</p>
    </body>
</html>