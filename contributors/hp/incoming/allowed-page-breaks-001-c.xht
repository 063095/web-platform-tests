<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>CSS Test: allowed page break margin handling inside table rows</title>
<link rel="author" title="Tom Clancy" href="mailto:tclancy@revenution.com"/>
<link rel="help" href="http://www.w3.org/TR/CSS21/page.html#page-break-props"/>
<link rel="help" href="http://www.w3.org/TR/css3-page/#allowed-pg-brk"/>
<meta name="assert" content="Breaking in the vertical margin between block boxes inside rows in a table is allowed only if the 'page-break-after' and 'page-break-before' properties of all the elements generating boxes that meet at this margin allow it, which is when at least one of them has the value 'always', 'left', or 'right', or when all of them are 'auto' and the parent table row does not have a 'page-break-inside' value of 'avoid'."/>
<meta name="flags" content="may paged" />
<style type="text/css">
	@page {margin: 7%;}
	@page fixed { 
		size: 4in 4in; 
		margin: 0.5in;
	}
	
	html, body {
		height:100%;
	}
	* {
		margin:0;
		padding:0;
    }
	
	table#noBreaking {border: 2pt solid blue;}
		table#noBreaking tr {page-break-inside: avoid;}
			table#noBreaking, tr#noBreaking td {height: 100%;}
	
	div {
		height: 100%;
		margin-bottom: -2em;
	}
	p {width: 0;}
	
	
	div#page2 {
		page: fixed;
		margin-bottom: 0;
	}
	
	table#bigLineBoxes p {line-height: 1in;}
</style>
</head>
<body>
	<table id="noBreaking">
		<tr>
			<td>
				<div>The letters 'a', 'b' and 'c' should appear below this line on the same page. A single blue outline should wrap around both lines of text.</div>
				<p>a b c</p>
			</td>
		</tr>
	</table>
	
	<div id="page2">
		<table id="bigLineBoxes">
			<tr>
				<td>
					<div>The letters 'a' through 'd' should be printed across this page and the next.</div>
					<p>a b c d</p>
				</td>
			</tr>
		</table>
	</div>
</body>
</html>