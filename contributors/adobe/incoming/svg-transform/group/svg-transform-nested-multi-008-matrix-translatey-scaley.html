<!DOCTYPE html>
<html>
<head>
    <title>CSS Transforms Test: SVG presentation attribute, matrix on group, scaleY on child1, translateY on child2</title>
    <link rel="author" title="David Alcala" href="mailto:dalcala@adobe.com">
    <link rel="help" href="http://www.w3.org/TR/css3-transforms/#svg-transform">
    <link rel="help" href="http://www.w3.org/TR/css3-transforms/#two-d-transform-functions">
    <link rel="match" href="reference/svg-four-color-square-ref.html">
    <meta name="flags" content="svg">
    <meta name="assert" content="Transforms on parent elements should be pre-multiplied to transforms on child elements.  The group of elements should be scaled and translated.  Additionally, the first rect should be translated vertically and the second rect should be scaled vertically.">
    <style type="text/css">
    svg {
        width: 300px;
        height: 300px;
    }
    </style>
</head>
<body>
    <p>The test passes if there is one four-color square, where the top left is a green square, the top right is a fuchsia square, the bottom left is a yellow square, and the bottom right is a blue square. There should be no red.</p>
    <svg>
        <defs>
            <pattern id="coloredBoxes" patternUnits="userSpaceOnUse" x="0" y="0" width="160" height="160">
                <rect x="0" y="0" width="80" height="80" fill="blue"/>
                <rect x="80" y="0" width="80" height="80" fill="yellow"/>
                <rect x="0" y="80" width="80" height="80" fill="fuchsia"/>
                <rect x="80" y="80" width="80" height="80" fill="green"/>
            </pattern>
        </defs>
        <rect x="41" y="41" width="78" height="78" fill="red"/> <!-- this rect is outside the group to catch failures of the group transform -->
        <g transform="matrix(-0.5 0 0 -0.5 120 90)">
            <rect x="2" y="-116" width="156" height="312" fill="red" transform="scaleY(0.5)"/>
            <rect width="160" height="160" fill="url(#coloredBoxes)" transform="translateY(-60)"/>
        </g>
    </svg>
</body>
</html>