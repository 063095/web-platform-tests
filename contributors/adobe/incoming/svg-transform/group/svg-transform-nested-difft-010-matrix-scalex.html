<!DOCTYPE html>
<html>
<head>
    <title>CSS Transforms Test: SVG presentation attribute, matrix on group, scaleX on child</title>
    <link rel="author" title="David Alcala" href="mailto:dalcala@adobe.com">
    <link rel="help" href="http://www.w3.org/TR/css3-transforms/#svg-transform">
    <link rel="help" href="http://www.w3.org/TR/css3-transforms/#two-d-transform-functions">
    <link rel="match" href="reftest/svg-four-color-square-80x80-ref.html">
    <meta name="flags" content="svg">
    <meta name="assert" content="A transform function must be supported in SVG groups with a child that has a different transform function. The rect in the test should be flipped up and left and scaled up horizontally and vertically when the matrix is performed on the group, and then should be horizontally scaled up by 2 to 80x80 when the scaleX is performed on the child rect.">
    <style type="text/css">
    svg {
        width: 300px;
        height: 300px;
    }
    </style>
</head>
<body>
  <p>The test passes if there is a four-color square, where the top left is a green square, the top right is a fuchsia square, the bottom left is a yellow square, and the bottom right is a blue square. There should be no red.</p>
  <svg>
      <defs>
          <pattern id="coloredBoxes" patternUnits="userSpaceOnUse" x="0" y="0" width="40" height="40">
              <rect x="0" y="0" width="20" height="20" fill="blue"/>
              <rect x="20" y="0" width="20" height="20" fill="yellow"/>
              <rect x="0" y="20" width="20" height="20" fill="fuchsia"/>
              <rect x="20" y="20" width="20" height="20" fill="green"/>
          </pattern>
      </defs>
      <rect x="41" y="41" width="78" height="78" fill="red"/>
      <g transform="matrix(-1 0 0 -2 120 120)">
          <rect width="40" height="40" fill="url(#coloredBoxes)" transform="scaleX(2)"/>
      </g>
  </svg>
</body>
</html>