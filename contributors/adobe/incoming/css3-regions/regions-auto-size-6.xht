<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>CSS Test: height:auto on region box</title>
    <link rel="author" title="Vincent Hardy, Adobe Systems" href="mailto:vhardy@adobe.com" />
    <link rel="help" href="http://dev.w3.org/csswg/css3-regions/#rfcb-flow-fragment-height-resolution-phase-2" />
    <link rel="match" href="regions-auto-size-6-ref.xht" />
    <meta name="flags" content="" />
    <meta name="assert" content=
    "The height of a region with height:auto is computed from the fragment content for a multi-column region as 
     for other regions. Here, the second region (rB) is a multi-column element with height:auto. Its flow fragment
     height should be computed such that it lays out the content of the second paragraph (because of the regions breaks)
     into its columns." />
    <style>
    /*<![CDATA[*/
    
#article {
    -webkit-flow-into: article;
}

.line {
    display: inline-block;
    background: #a0a0a0;
    width: 250px;
    height: 25px;
}

.line.with-break {
    -webkit-region-break-after:always;
    border: 1px solid red;
}

#rA, #rB, #rC {
    -webkit-flow-from: article;
    padding: 0em;
    box-sizing: border-box;
    border: 3px solid #46A4E9;
    border-radius: 0.5em;
    width: 100%;
}

#rA {
    height: auto;
}

#rB {
    height: auto;
    -webkit-column-count: 3;
}

#rC {
     height: auto;
}
/*]]>*/
</style>
</head>
<body>
    <div id="article">
        <p style="-webkit-region-break-after:always;">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus orci mi, feugiat quis feugiat imperdiet, scelerisque et sem. Vivamus nec nisi sit amet risus elementum rutrum sed ac mi. Curabitur sapien nulla, dictum eu consectetur et, pulvinar ut ipsum. Nullam non purus non nibh aliquet tincidunt a nec est. Ut vitae libero eu dolor ullamcorper pharetra. Curabitur consequat, felis a fringilla varius, lectus turpis auctor enim, id lacinia tellus lacus at sem. Etiam bibendum nibh vitae purus vestibulum molestie. Phasellus tristique purus eget nisi euismod et feugiat est imperdiet. Phasellus laoreet turpis malesuada nisi sollicitudin scelerisque.</p>
        
        <p style="-webkit-region-break-after:always;">Morbi imperdiet, massa ac molestie lacinia, tortor sapien ornare quam, quis luctus nisl est et purus. Cras vel odio felis, ut rhoncus urna. Maecenas ut quam eu est vehicula feugiat. Praesent eget leo augue, vel tincidunt mauris. Maecenas accumsan, velit dictum sagittis imperdiet, elit velit gravida ligula, in pulvinar velit libero ac nibh. Mauris eget rhoncus magna. Donec ultricies massa tortor, nec euismod nibh. Sed a nibh mauris, venenatis gravida nisl. Cras neque metus, vulputate et cursus non, ultricies sit amet metus. Praesent vestibulum lacinia gravida. Nunc eget nulla quis tellus consectetur aliquam in quis purus. Sed nec turpis vel leo vehicula vulputate ac at diam. Aenean at turpis non enim viverra faucibus a in massa. Donec et dui a leo scelerisque luctus. Cras in justo a mauris hendrerit faucibus.</p>
        
        <p style="-webkit-region-break-after:always;">Morbi imperdiet, massa ac molestie lacinia, tortor sapien ornare quam, quis luctus nisl est et purus. Cras vel odio felis, ut rhoncus urna. Maecenas ut quam eu est vehicula feugiat. Praesent eget leo augue, vel tincidunt mauris. Maecenas accumsan, velit dictum sagittis imperdiet, elit velit gravida ligula, in pulvinar velit libero ac nibh. Mauris eget rhoncus magna. Donec ultricies massa tortor, nec euismod nibh. Sed a nibh mauris, venenatis gravida nisl. Cras neque metus, vulputate et cursus non, ultricies sit amet metus. Praesent vestibulum lacinia gravida. Nunc eget nulla quis tellus consectetur aliquam in quis purus. Sed nec turpis vel leo vehicula vulputate ac at diam. Aenean at turpis non enim viverra faucibus a in massa. Donec et dui a leo scelerisque luctus. Cras in justo a mauris hendrerit faucibus.</p>
    </div>
	<div id="rA"></div>
	<div id="rB"></div>
	<div id="rC"></div>
</body>
</html>