<!DOCTYPE html>
<html>
<head>
    <title>CSS Transforms Test: SVG presentation attribute, scaleY on group, translate on child1, rotate on child2</title>
    <link rel="author" title="David Alcala" href="mailto:dalcala@adobe.com">
    <link rel="help" href="http://www.w3.org/TR/css3-transforms/#svg-transform">
    <link rel="help" href="http://www.w3.org/TR/css3-transforms/#two-d-transform-functions">
    <link rel="match" href="reftest/svg-fuchsia-orange-two-squares-ref.html">
    <meta name="flags" content="svg">
    <meta name="assert" content="The scaleY transform function must be supported in SVG groups with multiple nested children, where one child has a translate transform function and the other child has a rotate transform function. The first child rect in the test should be vertically scaled down 0.5 to 100x100 when the scaleY is performed on the group, and then should be moved 20 pixels in both the X and Y directions when the translate is performed on the first child rect. The second child rect in the test should be vertically scaled down 0.5 to 100x100 when the scaleY is performed on the group, and then should be rotated 90 degrees clockwise when the rotate is performed on the second child rect.">
    <style type="text/css">
    svg {
        width: 300px;
        height: 300px;
    }
    </style>
</head>
<body>
    <p>The test passes if there are two identical squares horizontally aligned, each with a fuchsia left half and an orange right half, and no red.</p>
    <svg>
        <!-- Fill with gradient to avoid false positive. -->
        <defs>
            <linearGradient id="grad" x2="0%" y2="100%">
                <stop offset="50%" stop-color="orange"/>
                <stop offset="50%" stop-color="fuchsia"/>
            </linearGradient>
            <linearGradient id="grad2" x2="100%" y2="0%">
                <stop offset="50%" stop-color="fuchsia"/>
                <stop offset="50%" stop-color="orange"/>
            </linearGradient>
        </defs>
        <rect x="21" y="21" width="98" height="98" fill="red"/>
        <rect x="151" y="21" width="98" height="98" fill="red"/>
        <g transform="scaleY(0.5)">
            <rect width="100" height="200" fill="url(#grad2)" transform="translate(20 40)"/>
            <rect x="40" y="-250" width="200" height="100" fill="url(#grad)" transform="rotate(90)"/>
        </g>
    </svg>
</body>
</html>
