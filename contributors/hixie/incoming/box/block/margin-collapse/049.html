<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html lang="en">
 <head>
  <title>Placement of out-of-flow object in elements that have been collapsed through</title>
  <style type="text/css">
   td { width: 3em; padding: 0; }

   .test { background: red; }
   .a { margin: 0; background: red; }
   .b { margin: 0; height: 1em; background: aqua; }
   .c { margin: 0 0 1em 0; background: red; }
   .d { margin: 0; background: fuchsia; height: 1em; float: left; width: 100%; }

   .control { background: red; }
   .aqua { border-top: solid 1em aqua; }
   .fuchsia { border-top: solid 1em fuchsia; }
   .purple { border-top: solid 1em purple; }
  </style>
 </head>
 <body>
  <p>The following two columns should look the same.</p>
  <table>
   <tr>
    <td class="test">
     <div class="a">
      <div class="b"> </div>
      <div class="c"> </div>
      <div class="d"> </div>
     </div>
    </td>
    <td class="control">
     <div class="aqua"></div>
     <div class="fuchsia"></div>
    </td>
   </tr>
  </table>
 </body>
</html>

<!-- note. this test assumes that we accept the following proposed changes:
     http://lists.w3.org/Archives/Member/w3c-css-wg/2003AprJun/0347.html
  -->