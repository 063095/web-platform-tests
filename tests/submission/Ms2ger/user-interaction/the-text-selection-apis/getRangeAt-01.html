<!DOCTYPE html>
<title>The getRangeAt method</title>
<link rel="author" title="Ms2ger" href="mailto:ms2ger@gmail.com">
<link rel="help" href="http://www.whatwg.org/html5/#dom-selection-getrangeat">
<body>
<script src="../../support/test.js"></script>
<script>
var sel = getSelection();
var range = document.createRange();
sel.addRange(range);
function t(n) {
  return function() {
    try {
      sel.getRangeAt(n);
      Test.fail("Should not be here");
    } catch(e) {
      Test.ok(e instanceof DOMException, "Should be a DOMException");
      Test.is(e.code, DOMException.INDEX_SIZE_ERR,
              "Should be an INDEX_SIZE_ERR");
    }
  }
}
Test.run([
  t(-1),
  t(1)
]);
</script>
