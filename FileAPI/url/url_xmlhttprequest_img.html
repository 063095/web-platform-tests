<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>FileAPI Test: url_xmlhttprequest_img</title>
    <link rel="author" title="Intel" href="www.intel.com">
    <link rel="help" href="http://dev.w3.org/2006/webapi/FileAPI/#creating-revoking">
    <link rel="help" href="https://dvcs.w3.org/hg/xhr/raw-file/tip/Overview.html/#interface-xmlhttprequest">
    <script src="/resources/testharness.js"></script>
    <link rel="reference" href="url_xmlhttprequest_img-ref.html">
  </head>
  <body>
    <p>Test passes if an image displays below</p>

    <p>
      <img id="fileDisplay">
    </p>

    <script>
      var http = new XMLHttpRequest();
      http.open("GET", "test.png", true);
      http.responseType = "blob";

      http.onloadend = function() {
        var fileDisplay = document.querySelector("#fileDisplay");
        fileDisplay.src = window.URL.createObjectURL(http.response);
      };

      http.send();
    </script>
  </body>
</html>
