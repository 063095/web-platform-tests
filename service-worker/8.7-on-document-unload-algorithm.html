<!DOCTYPE html>
<html>
<title>Service Workers: _OnDocumentUnload</title>
    <head>
        <link rel="help" href="https://slightlyoff.github.io/ServiceWorker/spec/service_worker/#on-document-unload-algorithm">
        <script src="/resources/testharness.js"></script>
        <script src="/resources/testharnessreport.js"></script>
    
    </head>
    <body>

<!--

Input:
    `document`, the document using the given [_ServiceWorkerReistration][1]
    object as its Service Worker [registration][2]; a [`Document`][3] object
Output:
    None
1.  Let `serviceWorkerRegistration` be the Service Worker [registration][2]
    used by `document`.
2.  If `serviceWorkerRegistration` is null, then:
    1.  Abort these steps.
3.  If any other document is using `serviceWorkerRegistration` as their
    Service Worker [registration][2], then:
    1.  Abort these steps.
4.  If serviceWorkerRegistration.uninstalling is true, then:
    1.  Delete `serviceWorkerRegistration.scope` from
        `[_ScopeToServiceWorkerRegistrationMap][4]`.
    2.  Abort these steps.
5.  If `serviceWorkerRegistration.updatePromise` is null and
    `serviceWorkerRegistration.installingWorker` is null and
    `serviceWorkerRegistration.waitingWorker` is null and
    `serviceWorkerRegistration.activeWorker` is null, then:
    1.  Delete `serviceWorkerRegistration.scope` from
        `[_ScopeToServiceWorkerRegistrationMap][4]`.
    2.  Abort these steps.
6.  If `serviceWorkerRegistration`.`waitingWorker` is not null:
    1.  Run [_Activatation algorithm][5] with `serviceWorkerRegistration`
        at the argument.

[1]: #registration-internal-interface
[2]: #registration
[3]: http://www.w3.org/TR/dom/#document
[4]: #service-worker-registration-map-internal-interface
[5]: #activation-algorithm

-->



    <script>
        test(function() {
            // not_implemented();
        }, "There are no tests for section _OnDocumentUnload so far.");
    </script>

    </body>
</html>

