<!DOCTYPE html>
<html>
<title>Service Workers: Unregistration</title>
    <head>
        <link rel="help" href="https://slightlyoff.github.io/ServiceWorker/spec/service_worker/#unregistration-algorithm">
        <script src="/resources/testharness.js"></script>
        <script src="/resources/testharnessreport.js"></script>
    
    </head>
    <body>

<!--

Input:
    `scope`, a string representing a [path expression][1] of [URL scope][2]
Output:
    `promise`, a [promise][3] whose resolution indicates the success or failure
    of the algorithm
1.  Let `promise` be a newly-created [promise][3].
2.  Return `promise`.
3.  Run the following steps asynchronously:
    1.  Let `scope` be `scope` resolved against the document URL.
    2.  Let `scope` be `scope` with the fragment part, "`#`" concatenated
        with `scope`'s [fragment][4], removed, if any.
    3.  If the origin of `scope` does not match the document's origin, then:
        1.  Reject `promise` with a new `SecurityError`.
        2.  Abort these steps.
    4.  Let `serviceWorkerRegistration` be the result of running
        [_GetRegistration algorithm][5] passing `scope` as the argument.
    5.  If `serviceWorkerRegistration` is null, then:
        1.  Resolve `promise`.
        2.  Abort these steps.
    6.  Set `serviceWorkerRegistration`.`uninstalling` to true.
    7.  If `serviceWorkerRegistration`.`updatePromise` is not null, then:
        1.  Reject `serviceWorkerRegistration`.`updatePromise` with a new
            `AbortError`.
        2.  The browser may abort in-flight requests, parsing or worker
            execution relating to
            `serviceWorkerRegistration`.`updatePromise`.
    8.  If `serviceWorkerRegistration`.`installingWorker` is not null, then:
        1.  Terminate `serviceWorkerRegistration`.`installingWorker`.
        2.  Run the [_UpdateState algorithm][6] passing
            `serviceWorkerRegistration`.`installingWorker` and `redundant`
            as the arguments.
        3.  Set `serviceWorkerRegistration`.`installingWorker` to null.
        4.  The user agent may abort in-flight requests triggered by
            `serviceWorkerRegistration`.`installingWorker`.
    9.  If `serviceWorkerRegistration`.`waitingWorker` is not null, then:
        1.  Run the [_UpdateState algorithm][6] passing
            `serviceWorkerRegistration`.`waitingWorker` and `redundant` as
            the arguments.
        2.  Set `serviceWorkerRegistration`.`waitingWorker` to null.
    10. Resolve `promise`.
    11. If no document is using `serviceWorkerRegistration` as their
        Service Worker [registration][7], then:
        1.  Delete `scope` from `[_ScopeToServiceWorkerRegistrationMap][8]`

[1]: #path-expression
[2]: #url-scope
[3]: http://goo.gl/3TobQS
[4]: http://goo.gl/ld1M50
[5]: #get-registration-algorithm
[6]: #update-state-algorithm
[7]: #registration
[8]: #service-worker-registration-map-internal-interface

-->



    <script>
        test(function() {
            // not_implemented();
        }, "There are no tests for section Unregistration so far.");
    </script>

    </body>
</html>

